containers:
  # ==== LEARNING & EXPLORATION ====

  nixos-playground:
    name: "‚ùÑÔ∏è NixOS Learning Environment"
    image: "nixos/nix:latest"
    volumes:
      - "${PWD}:/workspace"
      - "${HOME}/.config:/home/nixuser/.config:ro"
    environment:
      - "NIX_PATH=nixpkgs=https://github.com/NixOS/nixpkgs/archive/nixos-unstable.tar.gz"
    command: "bash"

  omarchy:
    name: "üèõÔ∏è Omarchy (Arch-based Opinionated Setup)"
    image: "archlinux:latest"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "TERM=xterm-256color"
    command: "bash -c 'pacman -Sy --noconfirm git curl && bash'"

  omakub:
    name: "üü† Omakub (37signals Opinionated Ubuntu)"
    image: "ubuntu:24.04"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "TERM=xterm-256color"
    command: "bash -c 'apt update && apt install -y git curl wget && bash'"

  arch-dev:
    name: "üèõÔ∏è Arch Linux Development"
    image: "archlinux:latest"
    platform: "linux/amd64"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "TERM=xterm-256color"
    command: "bash -c 'pacman -Sy --noconfirm base-devel git curl wget vim neovim tmux htop zsh fzf ripgrep fd bat exa zoxide && zsh || bash'"

  cachyos:
    name: "‚ö° CachyOS (Performance-Optimized Arch)"
    image: "archlinux:latest"
    platform: "linux/amd64"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "TERM=xterm-256color"
    command: 'bash -c "pacman -Sy --noconfirm base-devel git curl wget vim zsh fzf && echo CachyOS base environment ready && zsh || bash"'

  bazzite-gaming:
    name: "üéÆ Bazzite Gaming Environment"
    image: "fedora:latest"
    volumes:
      - "${PWD}:/workspace"
      - "/tmp/.X11-unix:/tmp/.X11-unix:rw"
    environment:
      - "DISPLAY=${DISPLAY}"
    command: "bash"

  # ==== HOMELAB & INFRASTRUCTURE ====

  k3s-lab:
    name: "‚ò∏Ô∏è K3s Kubernetes Lab"
    image: "rancher/k3s:latest"
    volumes:
      - "${PWD}:/workspace"
      - "/var/run/docker.sock:/var/run/docker.sock"
    environment:
      - "K3S_KUBECONFIG_OUTPUT=/workspace/kubeconfig.yaml"
    privileged: true
    command: "sh"

  docker-swarm:
    name: "üêã Docker Swarm Manager"
    image: "docker:dind"
    volumes:
      - "${PWD}:/workspace"
      - "/var/run/docker.sock:/var/run/docker.sock"
    privileged: true
    command: "sh"

  ceph-micro:
    name: "üóÑÔ∏è MicroCeph Storage Lab"
    image: "ubuntu:22.04"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "DEBIAN_FRONTEND=noninteractive"
    command: "bash -c 'apt update && apt install -y snapd && bash'"

  # ==== PRACTICAL LEARNING ====

  homelab-toolkit:
    name: "üè† Homelab Toolkit"
    image: "ubuntu:22.04"
    volumes:
      - "${PWD}:/workspace"
      - "${HOME}/.ssh:/root/.ssh:ro"
    environment:
      - "TERM=xterm-256color"
    command: "bash -c 'apt update && apt install -y curl wget git htop ncdu tree jq ansible && wget -qO /usr/local/bin/yq https://github.com/mikefarah/yq/releases/latest/download/yq_linux_arm64 && chmod +x /usr/local/bin/yq && bash'"

  network-tools:
    name: "üåê Network Analysis Lab"
    image: "nicolaka/netshoot"
    volumes:
      - "${PWD}:/workspace"
    command: "bash"

  monitoring-stack:
    name: "üìä Monitoring & Observability"
    image: "grafana/grafana-oss:latest"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "GF_SECURITY_ADMIN_PASSWORD=admin"
    command: "bash"

  # ==== LIGHTWEIGHT OPTIONS ====

  alpine-minimal:
    name: "üèîÔ∏è Alpine Minimal"
    image: "alpine:latest"
    volumes:
      - "${PWD}:/workspace"
    command: "sh -c 'apk add --no-cache bash curl git && bash'"

  experimental:
    name: "‚öóÔ∏è Quick Experiment"
    image: "ubuntu:22.04"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "TERM=xterm-256color"
    command: "bash"

  # ==== TRADITIONAL DEV (for when you need them) ====

  python-learn:
    name: "üêç Python Learning"
    image: "python:3.11-slim"
    volumes:
      - "${PWD}:/workspace"
    environment:
      - "PYTHONPATH=/workspace"
    command: "bash -c 'pip install ipython jupyter requests && bash'"

  rust-explore:
    name: "ü¶Ä Rust Exploration"
    image: "rust:latest"
    volumes:
      - "${PWD}:/workspace"
      - "${HOME}/.cargo:/usr/local/cargo"
    command: "bash"

# ==== SYSTEM MANAGEMENT ====
management:
  cleanup:
    name: "üßπ Container Cleanup"
    description: "Remove unused containers and images"

  running:
    name: "üìã Show Running Containers"
    description: "List currently active containers"

  config:
    name: "‚öôÔ∏è Edit Configuration"
    description: "Modify container definitions"

  refresh:
    name: "üîÑ Update All Images"
    description: "Pull latest versions of all container images"